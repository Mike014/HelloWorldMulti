name: Build macOS and iOS

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: macos-latest  # Usa un runner macOS

    steps:
      - name: Checkout code
        uses: actions/checkout@v3  # Usa la versione pi√π recente

      - name: Checkout JUCE
        run: |
          git clone --branch develop --single-branch https://github.com/juce-framework/JUCE.git
          cd JUCE
          ./extras/Build/BuildCMake.sh  # Compilazione di JUCE

      - name: Set up Xcode
        run: |
          sudo xcode-select --switch /Applications/Xcode.app  # Seleziona Xcode
          sudo xcodebuild -license accept  # Accetta la licenza di Xcode

      - name: Build for macOS
        run: |
          xcodebuild -project /Users/PC/Desktop/HelloWorldMulti/HelloWorldoMulti/HelloWorldoMulti.xcodeproj -scheme HelloWorld -sdk macosx  # Compilazione per macOS

      - name: Build for iOS
        run: |
          xcodebuild -project /Users/PC/Desktop/HelloWorldMulti/HelloWorldoMulti/HelloWorldoMulti.xcodeproj -scheme HelloWorld -sdk iphoneos  # Compilazione per iOS
