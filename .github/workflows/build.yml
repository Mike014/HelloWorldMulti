jobs:
  build:
    runs-on: macos-latest  # Runner macOS di GitHub Actions
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up JUCE repository
        run: git clone --branch develop --single-branch https://github.com/juce-framework/JUCE.git

      - name: Set up Xcode
        run: |
          sudo xcode-select --switch /Applications/Xcode.app
          sudo xcodebuild -license accept

      - name: Build for macOS
        run: |
          xcodebuild -project ./Builds/MacOSX/HelloWorldoMulti.xcodeproj -scheme HelloWorld -sdk macosx

      - name: Build for iOS
        run: |
          xcodebuild -project ./Builds/iOS/HelloWorldoMulti.xcodeproj -scheme HelloWorld -sdk iphoneos
